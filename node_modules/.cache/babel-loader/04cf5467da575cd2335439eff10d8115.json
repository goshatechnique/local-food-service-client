{"remainingRequest":"/home/codex/client/node_modules/babel-loader/lib/index.js!/home/codex/client/node_modules/eslint-loader/index.js??ref--13-0!/home/codex/client/src/services/api.js","dependencies":[{"path":"/home/codex/client/src/services/api.js","mtime":1629208401436},{"path":"/home/codex/client/node_modules/cache-loader/dist/cjs.js","mtime":1629208395336},{"path":"/home/codex/client/node_modules/babel-loader/lib/index.js","mtime":1629208394708},{"path":"/home/codex/client/node_modules/eslint-loader/index.js","mtime":1629208396924}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgZ2V0V2l0aEV4cGlyeSB9IGZyb20gJy4uL2hlbHBlcnMvaGVscGVycyc7CnZhciBheGlvc19hcGkgPSBheGlvcy5jcmVhdGUoewogIGhlYWRlcnM6IHsKICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICB9LAogIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9VUkwKfSk7CmF4aW9zX2FwaS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKHJlcXVlc3QpIHsKICB2YXIgdG9rZW4gPSBnZXRXaXRoRXhwaXJ5KCd0b2tlbicpOwoKICBpZiAodG9rZW4pIHsKICAgIHJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgdG9rZW47CiAgfQoKICBjb25zb2xlLmxvZygnPDxzZW5kIGEgcmVxdWVzdD4+ICcsIHJlcXVlc3QpOwogIHJldHVybiByZXF1ZXN0Owp9KTsKYXhpb3NfYXBpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgY29uc29sZS5sb2coJzw8Z290IGEgcmVzcG9uc2U+PiAnLCByZXNwb25zZSk7CiAgcmV0dXJuIHJlc3BvbnNlOwp9KTsKYXhpb3NfYXBpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UobnVsbCwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5lcnJvcignYXBpLmpzIGludGVyY2VwdG9ycyB8IEVycm9yOiAnLCBlcnJvcik7CiAgcmV0dXJuIGVycm9yOwp9KTsKZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gYXhpb3NfYXBpOwp9KTs="},{"version":3,"sources":["/home/codex/client/src/services/api.js"],"names":["axios","getWithExpiry","axios_api","create","headers","baseURL","process","env","VUE_APP_BASE_URL","interceptors","request","use","token","Authorization","console","log","response","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,oBAA9B;AAEA,IAAMC,SAAS,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC7BC,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT,GADoB;AAI7BC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAJQ,CAAb,CAAlB;AAOAN,SAAS,CAACO,YAAV,CAAuBC,OAAvB,CAA+BC,GAA/B,CAAmC,UAAAD,OAAO,EAAI;AAC5C,MAAME,KAAK,GAAGX,aAAa,CAAC,OAAD,CAA3B;;AAEA,MAAIW,KAAJ,EAAW;AACTF,IAAAA,OAAO,CAACN,OAAR,CAAgBS,aAAhB,GAAgC,YAAYD,KAA5C;AACD;;AACDE,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCL,OAAnC;AACA,SAAOA,OAAP;AACD,CARD;AAUAR,SAAS,CAACO,YAAV,CAAuBO,QAAvB,CAAgCL,GAAhC,CAAoC,UAAAK,QAAQ,EAAI;AAC9CF,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCC,QAAnC;AACA,SAAOA,QAAP;AACD,CAHD;AAKAd,SAAS,CAACO,YAAV,CAAuBO,QAAvB,CAAgCL,GAAhC,CAAoC,IAApC,EAA0C,UAAAM,KAAK,EAAI;AACjDH,EAAAA,OAAO,CAACG,KAAR,CAAc,+BAAd,EAA+CA,KAA/C;AACA,SAAOA,KAAP;AACD,CAHD;AAKA,gBAAe;AAAA,SAAMf,SAAN;AAAA,CAAf","sourcesContent":["import axios from 'axios';\nimport { getWithExpiry } from '../helpers/helpers';\n\nconst axios_api = axios.create({\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  baseURL: process.env.VUE_APP_BASE_URL,\n});\n\naxios_api.interceptors.request.use(request => {\n  const token = getWithExpiry('token');\n\n  if (token) {\n    request.headers.Authorization = 'Bearer ' + token;\n  }\n  console.log('<<send a request>> ', request);\n  return request;\n});\n\naxios_api.interceptors.response.use(response => {\n  console.log('<<got a response>> ', response);\n  return response;\n});\n\naxios_api.interceptors.response.use(null, error => {\n  console.error('api.js interceptors | Error: ', error);\n  return error;\n});\n\nexport default () => axios_api;\n"]}]}