{"remainingRequest":"/home/codex/local-food-service/node_modules/thread-loader/dist/cjs.js!/home/codex/local-food-service/node_modules/babel-loader/lib/index.js!/home/codex/local-food-service/node_modules/eslint-loader/index.js??ref--13-0!/home/codex/local-food-service/src/store/modules/user.js","dependencies":[{"path":"/home/codex/local-food-service/src/store/modules/user.js","mtime":1628095771148},{"path":"/home/codex/local-food-service/node_modules/cache-loader/dist/cjs.js","mtime":1628095767212},{"path":"/home/codex/local-food-service/node_modules/thread-loader/dist/cjs.js","mtime":1628095770592},{"path":"/home/codex/local-food-service/node_modules/babel-loader/lib/index.js","mtime":1628095767080},{"path":"/home/codex/local-food-service/node_modules/eslint-loader/index.js","mtime":1628095768188}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2NvZGV4L2xvY2FsLWZvb2Qtc2VydmljZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHJlcXVlc3RzIGZyb20gJy4uLy4uL3NlcnZpY2VzL3JlcXVlc3RzJzsKdmFyIHVzZXIgPSB7CiAgc3RhdGU6IHsKICAgIGN1cnJlbnRVc2VyOiBudWxsCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHVwZGF0ZUN1cnJlbnRVc2VyOiBmdW5jdGlvbiB1cGRhdGVDdXJyZW50VXNlcihzdGF0ZSwgdXNlcikgewogICAgICBzdGF0ZS5jdXJyZW50VXNlciA9IHVzZXI7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgZG9jdW1lbnQuY29va2llID0gJ3Rva2VuPTA7IG1heC1hZ2U9MCc7CiAgICAgIHN0YXRlLmN1cnJlbnRVc2VyID0ge307CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBmZXRjaEN1cnJlbnRVc2VyOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZmV0Y2hDdXJyZW50VXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdHMuZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb21taXQoJ3VwZGF0ZUN1cnJlbnRVc2VyJywgcmVzcG9uc2UuZGF0YS51c2VyKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCd1c2VyLmpzIGZldGNoQ3VycmVudFVzZXIoKSB8IEVycm9yOiAnLCBfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgNl1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZmV0Y2hDdXJyZW50VXNlcihfeCkgewogICAgICAgIHJldHVybiBfZmV0Y2hDdXJyZW50VXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZmV0Y2hDdXJyZW50VXNlcjsKICAgIH0oKQogIH0sCiAgZ2V0dGVyczogewogICAgdXNlcjogZnVuY3Rpb24gdXNlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY3VycmVudFVzZXI7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB1c2VyOw=="},{"version":3,"sources":["/home/codex/local-food-service/src/store/modules/user.js"],"names":["requests","user","state","currentUser","mutations","updateCurrentUser","logout","document","cookie","actions","fetchCurrentUser","commit","getUser","then","response","data","console","error","getters"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,yBAArB;AAEA,IAAMC,IAAI,GAAG;AACXC,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE;AADR,GADI;AAIXC,EAAAA,SAAS,EAAE;AACTC,IAAAA,iBAAiB,EAAE,2BAAUH,KAAV,EAAiBD,IAAjB,EAAuB;AACxCC,MAAAA,KAAK,CAACC,WAAN,GAAoBF,IAApB;AACD,KAHQ;AAITK,IAAAA,MAAM,EAAE,gBAAUJ,KAAV,EAAiB;AACvBK,MAAAA,QAAQ,CAACC,MAAT,GAAkB,oBAAlB;AACAN,MAAAA,KAAK,CAACC,WAAN,GAAoB,EAApB;AACD;AAPQ,GAJA;AAaXM,EAAAA,OAAO,EAAE;AACPC,IAAAA,gBAAgB;AAAA,sFAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkBC,gBAAAA,MAAlB,QAAkBA,MAAlB;AAAA;AAAA;AAAA,uBAERX,QAAQ,CACXY,OADG,GAEHC,IAFG,CAEE,UAACC,QAAD;AAAA,yBAAcH,MAAM,CAAC,mBAAD,EAAsBG,QAAQ,CAACC,IAAT,CAAcd,IAApC,CAApB;AAAA,iBAFF,CAFQ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAMde,gBAAAA,OAAO,CAACC,KAAR,CAAc,sCAAd;;AANc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADT,GAbE;AAwBXC,EAAAA,OAAO,EAAE;AACPjB,IAAAA,IAAI,EAAE,cAACC,KAAD;AAAA,aAAWA,KAAK,CAACC,WAAjB;AAAA;AADC;AAxBE,CAAb;AA6BA,eAAeF,IAAf","sourcesContent":["import requests from '../../services/requests';\n\nconst user = {\n  state: {\n    currentUser: null,\n  },\n  mutations: {\n    updateCurrentUser: function (state, user) {\n      state.currentUser = user;\n    },\n    logout: function (state) {\n      document.cookie = 'token=0; max-age=0';\n      state.currentUser = {};\n    },\n  },\n  actions: {\n    fetchCurrentUser: async function ({ commit }) {\n      try {\n        await requests\n          .getUser()\n          .then((response) => commit('updateCurrentUser', response.data.user));\n      } catch (error) {\n        console.error('user.js fetchCurrentUser() | Error: ', error);\n      }\n    },\n  },\n  getters: {\n    user: (state) => state.currentUser,\n  },\n};\n\nexport default user;\n"]}]}