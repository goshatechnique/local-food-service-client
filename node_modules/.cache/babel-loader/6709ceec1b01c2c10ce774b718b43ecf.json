{"remainingRequest":"/home/codex/local-food-service/client/node_modules/babel-loader/lib/index.js!/home/codex/local-food-service/client/node_modules/eslint-loader/index.js??ref--13-0!/home/codex/local-food-service/client/src/store/modules/products.js","dependencies":[{"path":"/home/codex/local-food-service/client/src/store/modules/products.js","mtime":1628848237794},{"path":"/home/codex/local-food-service/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/codex/local-food-service/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/codex/local-food-service/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2NvZGV4L2xvY2FsLWZvb2Qtc2VydmljZS9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCByZXF1ZXN0cyBmcm9tICcuLi8uLi9zZXJ2aWNlcy9yZXF1ZXN0cyc7CnZhciBwcm9kdWN0cyA9IHsKICBzdGF0ZTogewogICAgcHJvZHVjdHNMaXN0OiBbXSwKICAgIHNlYXJjaFN0cmluZzogJycsCiAgICBwYWdlTnVtYmVyOiAxCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHVwZGF0ZVByb2R1Y3RzTGlzdDogZnVuY3Rpb24gdXBkYXRlUHJvZHVjdHNMaXN0KHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBwcm9kdWN0cyA9IF9yZWYucHJvZHVjdHMsCiAgICAgICAgICBwYWdlTnVtYmVyID0gX3JlZi5wYWdlTnVtYmVyOwoKICAgICAgaWYgKHBhZ2VOdW1iZXIgPT09IDEpIHsKICAgICAgICBzdGF0ZS5wcm9kdWN0c0xpc3QgPSBwcm9kdWN0czsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0ZS5wcm9kdWN0c0xpc3QgPSBzdGF0ZS5wcm9kdWN0c0xpc3QuY29uY2F0KHByb2R1Y3RzKTsKICAgICAgfQogICAgfSwKICAgIGFkZFByb2R1Y3RNYW51YWw6IGZ1bmN0aW9uIGFkZFByb2R1Y3RNYW51YWwoc3RhdGUsIG5ld1Byb2R1Y3QpIHsKICAgICAgc3RhdGUucHJvZHVjdHNMaXN0LnB1c2gobmV3UHJvZHVjdCk7CiAgICB9LAogICAgZGVsZXRlUHJvZHVjdE1hbnVhbDogZnVuY3Rpb24gZGVsZXRlUHJvZHVjdE1hbnVhbChzdGF0ZSwgaWQpIHsKICAgICAgc3RhdGUucHJvZHVjdHNMaXN0ID0gc3RhdGUucHJvZHVjdHNMaXN0LmZpbHRlcihmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgIHJldHVybiBwcm9kdWN0Ll9pZCAhPT0gaWQ7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZVNlYXJjaFN0cmluZzogZnVuY3Rpb24gdXBkYXRlU2VhcmNoU3RyaW5nKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5zZWFyY2hTdHJpbmcgPSB2YWx1ZTsKICAgIH0sCiAgICB1cGRhdGVQYWdlTnVtYmVyOiBmdW5jdGlvbiB1cGRhdGVQYWdlTnVtYmVyKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5wYWdlTnVtYmVyID0gdmFsdWU7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBwb3N0UHJvZHVjdDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Bvc3RQcm9kdWN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKF9yZWYyLCBuZXdQcm9kdWN0KSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0cy5wb3N0UHJvZHVjdChuZXdQcm9kdWN0KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAxKSBjb21taXQoJ2FkZFByb2R1Y3RNYW51YWwnLCBuZXdQcm9kdWN0KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2R1Y3RzLmpzIHBvc3RQcm9kdWN0KCkgfCAnLCBfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDhdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHBvc3RQcm9kdWN0KF94LCBfeDIpIHsKICAgICAgICByZXR1cm4gX3Bvc3RQcm9kdWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwb3N0UHJvZHVjdDsKICAgIH0oKSwKICAgIGZldGNoUHJvZHVjdHM6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9mZXRjaFByb2R1Y3RzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihfcmVmMywgcGFyYW1zKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgX3Jlc3BvbnNlJGRhdGEsIF9yZXNwb25zZSRkYXRhMiwgcmVzcG9uc2U7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdHMuZ2V0UHJvZHVjdHMocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgY29tbWl0KCd1cGRhdGVQcm9kdWN0c0xpc3QnLCB7CiAgICAgICAgICAgICAgICAgIHByb2R1Y3RzOiByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9yZXNwb25zZSRkYXRhID0gcmVzcG9uc2UuZGF0YSkgPT09IG51bGwgfHwgX3Jlc3BvbnNlJGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXNwb25zZSRkYXRhLnByb2R1Y3RzLAogICAgICAgICAgICAgICAgICBwYWdlTnVtYmVyOiByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9yZXNwb25zZSRkYXRhMiA9IHJlc3BvbnNlLmRhdGEpID09PSBudWxsIHx8IF9yZXNwb25zZSRkYXRhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jlc3BvbnNlJGRhdGEyLnBhZ2VOdW1iZXIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2R1Y3RzLmpzIHBvc3RQcm9kdWN0KCkgfCAnLCBfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDhdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZldGNoUHJvZHVjdHMoX3gzLCBfeDQpIHsKICAgICAgICByZXR1cm4gX2ZldGNoUHJvZHVjdHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZldGNoUHJvZHVjdHM7CiAgICB9KCksCiAgICBkZWxldGVQcm9kdWN0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZGVsZXRlUHJvZHVjdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoX3JlZjQsIGlkKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3RzLmRlbGV0ZVByb2R1Y3QoaWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBjb21taXQoJ2RlbGV0ZVByb2R1Y3RNYW51YWwnLCBpZCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGRlbGV0ZVByb2R1Y3QoX3g1LCBfeDYpIHsKICAgICAgICByZXR1cm4gX2RlbGV0ZVByb2R1Y3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRlbGV0ZVByb2R1Y3Q7CiAgICB9KCkKICB9LAogIGdldHRlcnM6IHsKICAgIHByb2R1Y3RzTGlzdDogZnVuY3Rpb24gcHJvZHVjdHNMaXN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wcm9kdWN0c0xpc3Q7CiAgICB9LAogICAgc2VhcmNoU3RyaW5nOiBmdW5jdGlvbiBzZWFyY2hTdHJpbmcoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNlYXJjaFN0cmluZzsKICAgIH0sCiAgICBwYWdlTnVtYmVyOiBmdW5jdGlvbiBwYWdlTnVtYmVyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wYWdlTnVtYmVyOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgcHJvZHVjdHM7"},{"version":3,"sources":["/home/codex/local-food-service/client/src/store/modules/products.js"],"names":["requests","products","state","productsList","searchString","pageNumber","mutations","updateProductsList","concat","addProductManual","newProduct","push","deleteProductManual","id","filter","product","_id","updateSearchString","value","updatePageNumber","actions","postProduct","commit","response","status","Error","fetchProducts","params","getProducts","data","deleteProduct","getters"],"mappings":"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","sourcesContent":["import requests from '../../services/requests';\n\nconst products = {\n  state: {\n    productsList: [],\n    searchString: '',\n    pageNumber: 1,\n  },\n  mutations: {\n    updateProductsList: function (state, { products, pageNumber }) {\n      if (pageNumber === 1) {\n        state.productsList = products;\n      } else {\n        state.productsList = state.productsList.concat(products);\n      }\n    },\n    addProductManual: function (state, newProduct) {\n      state.productsList.push(newProduct);\n    },\n    deleteProductManual: function (state, id) {\n      state.productsList = state.productsList.filter(\n        product => product._id !== id,\n      );\n    },\n    updateSearchString: function (state, value) {\n      state.searchString = value;\n    },\n    updatePageNumber: function (state, value) {\n      state.pageNumber = value;\n    },\n  },\n  actions: {\n    postProduct: async function ({ commit }, newProduct) {\n      try {\n        const response = await requests.postProduct(newProduct);\n        if (response.status === 201) commit('addProductManual', newProduct);\n      } catch (error) {\n        throw new Error('products.js postProduct() | ', error);\n      }\n    },\n    fetchProducts: async function ({ commit }, params) {\n      try {\n        const response = await requests.getProducts(params);\n        if (response.status === 200)\n          commit('updateProductsList', {\n            products: response?.data?.products,\n            pageNumber: response?.data?.pageNumber,\n          });\n      } catch (error) {\n        throw new Error('products.js postProduct() | ', error);\n      }\n    },\n    deleteProduct: async function ({ commit }, id) {\n      await requests.deleteProduct(id);\n      commit('deleteProductManual', id);\n    },\n  },\n  getters: {\n    productsList: state => state.productsList,\n    searchString: state => state.searchString,\n    pageNumber: state => state.pageNumber,\n  },\n};\n\nexport default products;\n"]}]}