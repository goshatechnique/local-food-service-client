{"remainingRequest":"/home/codex/local-food-service/client/node_modules/babel-loader/lib/index.js!/home/codex/local-food-service/client/node_modules/eslint-loader/index.js??ref--13-0!/home/codex/local-food-service/client/src/store/modules/user.js","dependencies":[{"path":"/home/codex/local-food-service/client/src/store/modules/user.js","mtime":1629111293799},{"path":"/home/codex/local-food-service/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/codex/local-food-service/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/codex/local-food-service/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2NvZGV4L2xvY2FsLWZvb2Qtc2VydmljZS9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHNldFdpdGhFeHBpcnkgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2hlbHBlcnMnOwppbXBvcnQgcmVxdWVzdHMgZnJvbSAnLi4vLi4vc2VydmljZXMvcmVxdWVzdHMnOwp2YXIgdXNlciA9IHsKICBzdGF0ZTogewogICAgY3VycmVudFVzZXI6IG51bGwsCiAgICBjdXJyZW50Q29vcmRpbmF0ZXM6IHsKICAgICAgbGF0OiA1My43MTY5LAogICAgICBsbmc6IDI3Ljk3NzUKICAgIH0sCiAgICB1c2VyczogW10KICB9LAogIG11dGF0aW9uczogewogICAgYWxsVXNlcnM6IGZ1bmN0aW9uIGFsbFVzZXJzKHN0YXRlLCB1c2VycykgewogICAgICBzdGF0ZS51c2VycyA9IHVzZXJzOwogICAgfSwKICAgIHVwZGF0ZUN1cnJlbnRVc2VyOiBmdW5jdGlvbiB1cGRhdGVDdXJyZW50VXNlcihzdGF0ZSwgdXNlcikgewogICAgICBzdGF0ZS5jdXJyZW50VXNlciA9IHVzZXI7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgIHN0YXRlLmN1cnJlbnRVc2VyID0gbnVsbDsKICAgICAgc3RhdGUuY3VycmVudENvb3JkaW5hdGVzID0gewogICAgICAgIGxhdDogNTMuNzE2OSwKICAgICAgICBsbmc6IDI3Ljk3NzUKICAgICAgfTsKICAgIH0sCiAgICB1cGRhdGVDdXJyZW50Q29vcmRpbmF0ZXM6IGZ1bmN0aW9uIHVwZGF0ZUN1cnJlbnRDb29yZGluYXRlcyhzdGF0ZSwgY29vcmRpbmF0ZXMpIHsKICAgICAgc3RhdGUuY3VycmVudENvb3JkaW5hdGVzID0gewogICAgICAgIGxhdDogY29vcmRpbmF0ZXMubGF0LAogICAgICAgIGxuZzogY29vcmRpbmF0ZXMubG5nCiAgICAgIH07CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICByZWdpc3RyYXRpb246IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWdpc3RyYXRpb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZiwgbmV3VXNlcikgewogICAgICAgIHZhciBkaXNwYXRjaCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdHMucmVnaXN0cmF0aW9uKG5ld1VzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDEpIGRpc3BhdGNoKCdhdXRob3JpemF0aW9uJywgewogICAgICAgICAgICAgICAgICBlbWFpbDogbmV3VXNlciA9PT0gbnVsbCB8fCBuZXdVc2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXdVc2VyLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogbmV3VXNlciA9PT0gbnVsbCB8fCBuZXdVc2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXdVc2VyLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHJlZ2lzdHJhdGlvbihfeCwgX3gyKSB7CiAgICAgICAgcmV0dXJuIF9yZWdpc3RyYXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbjsKICAgIH0oKSwKICAgIGF1dGhvcml6YXRpb246IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9hdXRob3JpemF0aW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihfcmVmMiwgdXNlckRhdGEpIHsKICAgICAgICB2YXIgX2RhdGEkdXNlciwgX2RhdGEkdXNlcjIsIF9kYXRhJHVzZXIzLCBfZGF0YSR1c2VyNCwgX2RhdGEkdXNlcjUsIF9kYXRhJHVzZXI2OwoKICAgICAgICB2YXIgY29tbWl0LCBfeWllbGQkcmVxdWVzdHMkYXV0aG8sIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdHMuYXV0aG9yaXphdGlvbih1c2VyRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRyZXF1ZXN0cyRhdXRobyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRyZXF1ZXN0cyRhdXRoby5kYXRhOwogICAgICAgICAgICAgICAgc2V0V2l0aEV4cGlyeSgndG9rZW4nLCBkYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgndXBkYXRlQ3VycmVudFVzZXInLCB7CiAgICAgICAgICAgICAgICAgIF9pZDogZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2RhdGEkdXNlciA9IGRhdGEudXNlcikgPT09IG51bGwgfHwgX2RhdGEkdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RhdGEkdXNlci5faWQsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZGF0YSR1c2VyMiA9IGRhdGEudXNlcikgPT09IG51bGwgfHwgX2RhdGEkdXNlcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kYXRhJHVzZXIyLmVtYWlsLAogICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2RhdGEkdXNlcjMgPSBkYXRhLnVzZXIpID09PSBudWxsIHx8IF9kYXRhJHVzZXIzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGF0YSR1c2VyMy5waG9uZU51bWJlciwKICAgICAgICAgICAgICAgICAgY291bnRyeTogZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2RhdGEkdXNlcjQgPSBkYXRhLnVzZXIpID09PSBudWxsIHx8IF9kYXRhJHVzZXI0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGF0YSR1c2VyNC5jb3VudHJ5LAogICAgICAgICAgICAgICAgICBjaXR5OiBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZGF0YSR1c2VyNSA9IGRhdGEudXNlcikgPT09IG51bGwgfHwgX2RhdGEkdXNlcjUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kYXRhJHVzZXI1LmNpdHksCiAgICAgICAgICAgICAgICAgIGFjY291bnRUeXBlOiBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZGF0YSR1c2VyNiA9IGRhdGEudXNlcikgPT09IG51bGwgfHwgX2RhdGEkdXNlcjYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kYXRhJHVzZXI2LmFjY291bnRUeXBlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYXV0aG9yaXphdGlvbihfeDMsIF94NCkgewogICAgICAgIHJldHVybiBfYXV0aG9yaXphdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYXV0aG9yaXphdGlvbjsKICAgIH0oKSwKICAgIGZldGNoQ3VycmVudFVzZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9mZXRjaEN1cnJlbnRVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhfcmVmMykgewogICAgICAgIHZhciBjb21taXQsIF95aWVsZCRyZXF1ZXN0cyRnZXRVcywgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0cy5nZXRVc2VyKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF95aWVsZCRyZXF1ZXN0cyRnZXRVcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRyZXF1ZXN0cyRnZXRVcy5kYXRhOwogICAgICAgICAgICAgICAgY29tbWl0KCd1cGRhdGVDdXJyZW50VXNlcicsIGRhdGEpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCd1c2VyLmpzIGZldGNoQ3VycmVudFVzZXIoKSB8ICcsIF9jb250ZXh0My50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMSwgOV1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZmV0Y2hDdXJyZW50VXNlcihfeDUpIHsKICAgICAgICByZXR1cm4gX2ZldGNoQ3VycmVudFVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZldGNoQ3VycmVudFVzZXI7CiAgICB9KCksCiAgICBmZXRjaEFsbFVzZXJzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZmV0Y2hBbGxVc2VycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoX3JlZjQpIHsKICAgICAgICB2YXIgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdHMuZ2V0QWxsVXNlcnMoKS50aGVuKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb21taXQoJ2FsbFVzZXJzJywgci5kYXRhKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU09TSScpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIG51bGwsIFtbMSwgNl1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZmV0Y2hBbGxVc2VycyhfeDYpIHsKICAgICAgICByZXR1cm4gX2ZldGNoQWxsVXNlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZldGNoQWxsVXNlcnM7CiAgICB9KCksCiAgICBkZWxldGVVc2VyOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZGVsZXRlVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoX3JlZjUsIGlkKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3RzLmRlbGV0ZVVzZXIoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgnaGFoYScpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDVbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTT1NJJyk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgbnVsbCwgW1sxLCA2XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBkZWxldGVVc2VyKF94NywgX3g4KSB7CiAgICAgICAgcmV0dXJuIF9kZWxldGVVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkZWxldGVVc2VyOwogICAgfSgpCiAgfSwKICBnZXR0ZXJzOiB7CiAgICB1c2VyOiBmdW5jdGlvbiB1c2VyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jdXJyZW50VXNlcjsKICAgIH0sCiAgICBjdXJyZW50Q29vcmRpbmF0ZXM6IGZ1bmN0aW9uIGN1cnJlbnRDb29yZGluYXRlcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY3VycmVudENvb3JkaW5hdGVzOwogICAgfSwKICAgIHVzZXJzOiBmdW5jdGlvbiB1c2VycyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcnM7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB1c2VyOw=="},{"version":3,"sources":["/home/codex/local-food-service/client/src/store/modules/user.js"],"names":["setWithExpiry","requests","user","state","currentUser","currentCoordinates","lat","lng","users","mutations","allUsers","updateCurrentUser","logout","localStorage","removeItem","updateCurrentCoordinates","coordinates","actions","registration","newUser","dispatch","response","status","email","password","authorization","userData","commit","data","token","_id","phoneNumber","country","city","accountType","fetchCurrentUser","getUser","console","error","fetchAllUsers","getAllUsers","then","r","deleteUser","id","getters"],"mappings":";;AAAA,SAASA,aAAT,QAA8B,uBAA9B;AACA,OAAOC,QAAP,MAAqB,yBAArB;AAEA,IAAMC,IAAI,GAAG;AACXC,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE,IADR;AAELC,IAAAA,kBAAkB,EAAE;AAClBC,MAAAA,GAAG,EAAE,OADa;AAElBC,MAAAA,GAAG,EAAE;AAFa,KAFf;AAMLC,IAAAA,KAAK,EAAE;AANF,GADI;AASXC,EAAAA,SAAS,EAAE;AACTC,IAAAA,QAAQ,EAAE,kBAAUP,KAAV,EAAiBK,KAAjB,EAAwB;AAChCL,MAAAA,KAAK,CAACK,KAAN,GAAcA,KAAd;AACD,KAHQ;AAITG,IAAAA,iBAAiB,EAAE,2BAAUR,KAAV,EAAiBD,IAAjB,EAAuB;AACxCC,MAAAA,KAAK,CAACC,WAAN,GAAoBF,IAApB;AACD,KANQ;AAOTU,IAAAA,MAAM,EAAE,gBAAUT,KAAV,EAAiB;AACvBU,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAX,MAAAA,KAAK,CAACC,WAAN,GAAoB,IAApB;AACAD,MAAAA,KAAK,CAACE,kBAAN,GAA2B;AACzBC,QAAAA,GAAG,EAAE,OADoB;AAEzBC,QAAAA,GAAG,EAAE;AAFoB,OAA3B;AAID,KAdQ;AAeTQ,IAAAA,wBAAwB,EAAE,kCAAUZ,KAAV,EAAiBa,WAAjB,EAA8B;AACtDb,MAAAA,KAAK,CAACE,kBAAN,GAA2B;AACzBC,QAAAA,GAAG,EAAEU,WAAW,CAACV,GADQ;AAEzBC,QAAAA,GAAG,EAAES,WAAW,CAACT;AAFQ,OAA3B;AAID;AApBQ,GATA;AA+BXU,EAAAA,OAAO,EAAE;AACPC,IAAAA,YAAY;AAAA,kFAAE,uBAA8BC,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkBC,gBAAAA,QAAlB,QAAkBA,QAAlB;AAAA;AAAA,uBACWnB,QAAQ,CAACiB,YAAT,CAAsBC,OAAtB,CADX;;AAAA;AACNE,gBAAAA,QADM;AAEZ,oBAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EACEF,QAAQ,CAAC,eAAD,EAAkB;AACxBG,kBAAAA,KAAK,EAAEJ,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEI,KADQ;AAExBC,kBAAAA,QAAQ,EAAEL,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEK;AAFK,iBAAlB,CAAR;;AAHU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADL;AASPC,IAAAA,aAAa;AAAA,mFAAE,yBAA4BC,QAA5B;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAkBC,gBAAAA,MAAlB,SAAkBA,MAAlB;AAAA;AAAA,uBACU1B,QAAQ,CAACwB,aAAT,CAAuBC,QAAvB,CADV;;AAAA;AAAA;AACLE,gBAAAA,IADK,yBACLA,IADK;AAEb5B,gBAAAA,aAAa,CAAC,OAAD,EAAU4B,IAAI,CAACC,KAAf,CAAb;AACAF,gBAAAA,MAAM,CAAC,mBAAD,EAAsB;AAC1BG,kBAAAA,GAAG,EAAEF,IAAF,aAAEA,IAAF,qCAAEA,IAAI,CAAE1B,IAAR,+CAAE,WAAY4B,GADS;AAE1BP,kBAAAA,KAAK,EAAEK,IAAF,aAAEA,IAAF,sCAAEA,IAAI,CAAE1B,IAAR,gDAAE,YAAYqB,KAFO;AAG1BQ,kBAAAA,WAAW,EAAEH,IAAF,aAAEA,IAAF,sCAAEA,IAAI,CAAE1B,IAAR,gDAAE,YAAY6B,WAHC;AAI1BC,kBAAAA,OAAO,EAAEJ,IAAF,aAAEA,IAAF,sCAAEA,IAAI,CAAE1B,IAAR,gDAAE,YAAY8B,OAJK;AAK1BC,kBAAAA,IAAI,EAAEL,IAAF,aAAEA,IAAF,sCAAEA,IAAI,CAAE1B,IAAR,gDAAE,YAAY+B,IALQ;AAM1BC,kBAAAA,WAAW,EAAEN,IAAF,aAAEA,IAAF,sCAAEA,IAAI,CAAE1B,IAAR,gDAAE,YAAYgC;AANC,iBAAtB,CAAN;;AAHa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OATN;AAqBPC,IAAAA,gBAAgB;AAAA,sFAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAkBR,gBAAAA,MAAlB,SAAkBA,MAAlB;AAAA;AAAA;AAAA,uBAES1B,QAAQ,CAACmC,OAAT,EAFT;;AAAA;AAAA;AAENR,gBAAAA,IAFM,yBAENA,IAFM;AAGdD,gBAAAA,MAAM,CAAC,mBAAD,EAAsBC,IAAtB,CAAN;AAHc;AAAA;;AAAA;AAAA;AAAA;AAKdS,gBAAAA,OAAO,CAACC,KAAR,CAAc,+BAAd;;AALc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OArBT;AA6BPC,IAAAA,aAAa;AAAA,mFAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkBZ,gBAAAA,MAAlB,SAAkBA,MAAlB;AAAA;AAAA;AAAA,uBAEL1B,QAAQ,CAACuC,WAAT,GAAuBC,IAAvB,CAA4B,UAAAC,CAAC;AAAA,yBAAIf,MAAM,CAAC,UAAD,EAAae,CAAC,CAACd,IAAf,CAAV;AAAA,iBAA7B,CAFK;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIXS,gBAAAA,OAAO,CAACC,KAAR,CAAc,MAAd;;AAJW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OA7BN;AAoCPK,IAAAA,UAAU;AAAA,gFAAE,yBAA4BC,EAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkBjB,gBAAAA,MAAlB,SAAkBA,MAAlB;AAAA;AAAA;AAAA,uBAEF1B,QAAQ,CAAC0C,UAAT,GAAsBF,IAAtB,CAA2B;AAAA,yBAAMd,MAAM,CAAC,MAAD,CAAZ;AAAA,iBAA3B,CAFE;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIRU,gBAAAA,OAAO,CAACC,KAAR,CAAc,MAAd;;AAJQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AApCH,GA/BE;AA2EXO,EAAAA,OAAO,EAAE;AACP3C,IAAAA,IAAI,EAAE,cAAAC,KAAK;AAAA,aAAIA,KAAK,CAACC,WAAV;AAAA,KADJ;AAEPC,IAAAA,kBAAkB,EAAE,4BAAAF,KAAK;AAAA,aAAIA,KAAK,CAACE,kBAAV;AAAA,KAFlB;AAGPG,IAAAA,KAAK,EAAE,eAAAL,KAAK;AAAA,aAAIA,KAAK,CAACK,KAAV;AAAA;AAHL;AA3EE,CAAb;AAkFA,eAAeN,IAAf","sourcesContent":["import { setWithExpiry } from '../../helpers/helpers';\nimport requests from '../../services/requests';\n\nconst user = {\n  state: {\n    currentUser: null,\n    currentCoordinates: {\n      lat: 53.7169,\n      lng: 27.9775,\n    },\n    users: [],\n  },\n  mutations: {\n    allUsers: function (state, users) {\n      state.users = users;\n    },\n    updateCurrentUser: function (state, user) {\n      state.currentUser = user;\n    },\n    logout: function (state) {\n      localStorage.removeItem('token');\n      state.currentUser = null;\n      state.currentCoordinates = {\n        lat: 53.7169,\n        lng: 27.9775,\n      };\n    },\n    updateCurrentCoordinates: function (state, coordinates) {\n      state.currentCoordinates = {\n        lat: coordinates.lat,\n        lng: coordinates.lng,\n      };\n    },\n  },\n  actions: {\n    registration: async function ({ dispatch }, newUser) {\n      const response = await requests.registration(newUser);\n      if (response.status === 201)\n        dispatch('authorization', {\n          email: newUser?.email,\n          password: newUser?.password,\n        });\n    },\n    authorization: async function ({ commit }, userData) {\n      const { data } = await requests.authorization(userData);\n      setWithExpiry('token', data.token);\n      commit('updateCurrentUser', {\n        _id: data?.user?._id,\n        email: data?.user?.email,\n        phoneNumber: data?.user?.phoneNumber,\n        country: data?.user?.country,\n        city: data?.user?.city,\n        accountType: data?.user?.accountType,\n      });\n    },\n    fetchCurrentUser: async function ({ commit }) {\n      try {\n        const { data } = await requests.getUser();\n        commit('updateCurrentUser', data);\n      } catch (error) {\n        console.error('user.js fetchCurrentUser() | ', error);\n      }\n    },\n    fetchAllUsers: async function ({ commit }) {\n      try {\n        await requests.getAllUsers().then(r => commit('allUsers', r.data));\n      } catch (error) {\n        console.error('SOSI');\n      }\n    },\n    deleteUser: async function ({ commit }, id) {\n      try {\n        await requests.deleteUser().then(() => commit('haha'));\n      } catch (error) {\n        console.error('SOSI');\n      }\n    },\n  },\n  getters: {\n    user: state => state.currentUser,\n    currentCoordinates: state => state.currentCoordinates,\n    users: state => state.users,\n  },\n};\n\nexport default user;\n"]}]}